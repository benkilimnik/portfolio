(this["webpackJsonpreact-firebase"]=this["webpackJsonpreact-firebase"]||[]).push([[0],{174:function(e){e.exports=JSON.parse('{"b":"What\'s Your Style?","a":"Below are groups of four words or scenarios. Please select the word that describes you the majority of time. Even if you are torn between two words, please choose one."}')},239:function(e,t,a){e.exports=a.p+"static/media/NorthernTorchlogo.0b8f836a.svg"},250:function(e,t,a){e.exports=a(493)},255:function(e,t,a){},493:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),o=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(255);var s=a(42),c=a(504),l=a(503),u=a(10),m=a(502),d=a(62),h=a(63),p=r.a.createContext(null),f=function(e){return function(t){return r.a.createElement(p.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},g=p,b=a(14),v=a(105),E=a.n(v),y=(a(256),a(258),a(261),{apiKey:"AIzaSyCJWds3z2efXsKu1MqcF9THNeCb4LvPvRg",authDomain:"communication-style-assessent.firebaseapp.com",databaseURL:"https://communication-style-assessent.firebaseio.com",projectId:"communication-style-assessent",storageBucket:"communication-style-assessent.appspot.com",messagingSenderId:"605098369514",appId:"1:605098369514:web:fbd383fde133a1a6"}),S=function e(){var t=this;Object(b.a)(this,e),this.onAuthUserListener=function(e,a){return t.auth.onIdTokenChanged((function(t){t?t.getIdTokenResult().then((function(t){var a=t.claims,n=a.user_id,r=a.admin,i=a.VIEW_RES,o=a.TOOK_SUR,s=a.name;e({uid:n,admin:r,VIEW_RES:i,TOOK_SUR:o,name:s})})):a()}))},this.onGroupListener=function(e,a){return console.log(a),t.firestore.collection("groups").onSnapshot((function(t){var n={};t.forEach((function(e){e.data()[a.uid]||(n[e.id]=e.data())})),e(n)}))},this.signIn=function(e,a){return t.signInEmailPassword({email:e,password:a}).then((function(e){if(e.data.code)throw e.data;return t.auth.signInWithEmailAndPassword(e.data.email,e.data.password)}))},this.signUpCreateUser=function(e,a,n){return t.createUser({displayName:e,email:a,group_code:n}).then((function(e){if(e.data.code)throw e.data;return t.signIn(a,n)}),(function(e){throw e}))},this.signOut=function(e){e.push("/"),t.auth.signOut()},this.test=function(){return t.users()},this.isAdmin=function(e){t.auth.currentUser&&t.auth.currentUser.getIdTokenResult().then((function(t){t.claims.admin?e(!0):e(!1)})).catch((function(t){e(!1)})),e(!1)},this.isAdminNoCallback=function(){return!!t.auth.currentUser&&t.auth.currentUser.getIdTokenResult().then((function(e){return!!e.claims.admin})).catch((function(e){return!1}))},this.completeForm=function(e){return t.formatResults(e).then((function(e){t.auth.currentUser.getIdToken(!0)})).catch((function(e){console.error(e)}))},this.adminDeleteItem=function(e,a){return t.adminClickDelete({uid:e,groupName:a}).then((function(e){return e.data})).catch((function(e){throw e}))},this.adminAllowViewCom=function(e,a){return t.allowViewCom({uid:e,groupName:a}).then((function(e){return t.sendEmails(e.data.emailMap),e.data})).catch((function(e){throw e}))},this.sendEmails=function(e){Object.keys(e).forEach((function(a){var n=e[a];t.auth.sendPasswordResetEmail(n).then((function(){})).catch((function(e){console.error(e)}))}))},this.getUserCommunicationStyle=function(e){return t.getUserComStyle({uid:e}).then((function(e){if(e.data)return e.data.error?(console.error(e.data.error),null):e.data}))},this.adminGroupAdd=function(e){return t.groupAdd({groupName:e}).then((function(e){return e.data})).catch((function(e){throw e}))},E.a.initializeApp(y),this.auth=E.a.auth(),this.firestore=E.a.firestore(),this.functions=E.a.functions(),this.formatResults=this.functions.httpsCallable("formatResults"),this.createUser=this.functions.httpsCallable("createUser"),this.adminClickDelete=this.functions.httpsCallable("adminClickDelete"),this.getUserComStyle=this.functions.httpsCallable("getUserComStyle"),this.allowViewCom=this.functions.httpsCallable("allowViewCom"),this.groupAdd=this.functions.httpsCallable("groupAdd"),this.signInEmailPassword=this.functions.httpsCallable("signInEmailPassword")},N=Object(h.f)(f((function(e){var t=e.firebase,a=e.history;return r.a.createElement(m.a,{className:"logout-icon-tooltip authUser",placement:"bottom",title:"Sign Out",arrowPointAtCenter:!0},r.a.createElement(d.a,{className:"sign-out-icon-button",size:"large",shape:"circle",onClick:function(){t.signOut(a)},icon:"logout",ghost:!0}))}))),w=l.a.Step,k=function(e){return r.a.createElement(w,{className:"HStep ".concat(e.position),status:"process",direction:"horizontal",icon:e.authUser&&"Login"===e.title?C(e):O(e)})},C=function(e){return r.a.createElement("div",{className:"login-out-icon-box"},r.a.createElement(N,null),r.a.createElement(u.a,{className:"stepIcon ".concat(e.title.toLowerCase(),"-icon authUser"),type:e.icon,style:{fontSize:"36px",color:"#ffff"}}))},O=function(e){return r.a.createElement(m.a,{placement:"bottom",title:e.title,arrowPointAtCenter:!0},r.a.createElement(s.b,{className:"icon-link-box",to:e.route},r.a.createElement(u.a,{className:"stepIcon ".concat(e.title.toLowerCase(),"-icon"),type:e.icon,style:{fontSize:"36px",color:"#ffff"}})))},j=function(e){var t=e.authUser;return r.a.createElement("div",{className:"HeaderStepsBox",direction:"horizontal"},r.a.createElement(l.a,{className:"HeaderSteps"},r.a.createElement(k,{title:"Login",position:"left",route:"/",icon:"user",authUser:t}),r.a.createElement(k,{title:"Survey",position:"mid",route:"/survey",icon:"solution"}),t&&t.admin?r.a.createElement(k,{title:"Admin",position:"right",route:"/admin",icon:"lock"}):r.a.createElement(k,{title:"Results",position:"right",route:"/results",icon:"smile-o"})))},I=a(495),U=a(496),D=function(e){return console.log(e),r.a.createElement(d.a,{className:"go-back-button",type:"primary",size:"large",onClick:function(){e.authUser?e.authUser.admin?e.history.push("/admin"):(e.authUser.TOOK_SUR,e.history.push("/results")):e.history.push("/")}},"Go Back")},T=function(e){return r.a.createElement(I.a,{className:"already-in-col"},r.a.createElement(U.a,{className:"already-in-row"},r.a.createElement(u.a,{className:"already-in-icon",type:"alert",theme:"twoTone",twoToneColor:"#c61133"}),r.a.createElement("p",{className:"already-in-text"},"You are already signed in."),r.a.createElement(D,e)))},R=a(19),V=a(23),A=a(20),L=a(24),x=a(22),_=a(86),W=a(498),q=a(499),P=function(e){var t=e.name,a=e.value,n=e.placeholder,i=e.onChange,o=e.iconType,s=e.error;return r.a.createElement(W.a.Item,{style:{marginTop:26},className:"formItem",validateStatus:s?"error":null,hasFeedback:!0},r.a.createElement(q.a,{prefix:r.a.createElement(u.a,{className:"form-prefix-icon",type:o}),name:t,value:a,placeholder:n,onChange:i,type:"text",size:"large"}))},z=function(e){var t=e.cssName,a=e.isInvalid,n=e.loading,i=e.error;return r.a.createElement(W.a.Item,{className:"formItem",validateStatus:i?"error":null,help:i?i.message:null},r.a.createElement(d.a,{className:t,type:"primary",size:"large",disabled:a,loading:n,htmlType:"submit"},e.children))},F=a(505),G=a(48),M=function(){var e={username:void 0,email:void 0,group_code:void 0};return Object.keys(e).forEach((function(t){e[t]=G.string(t).required("The ".concat(t," field is required"))})),G.object(e)},B=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(s.b,{to:"/signup"},"Sign Up"))},H=f((function(e){var t=e.firebase,a=e.history;return r.a.createElement(X,{type:"up",submit:function(e,n,r){return t.signUpCreateUser(e,n,r).then((function(){a.push("/survey")})).catch((function(e){throw e}))},validationSchema:M(),openErrorNotification:function(e,t){F.a.error({message:e,description:t})}})})),J=function(e){var t=e.handleSubmit,a=e.values,n=e.handleChange,i=e.errors,o=e.type,s=e.isValid,c=e.loading;return r.a.createElement(W.a,{onSubmit:t,className:"form"},"up"===o?r.a.createElement(P,{name:"username",value:a.username,placeholder:"Full Name",onChange:n,iconType:"user",error:i.username}):null,r.a.createElement(P,{name:"email",value:a.email,placeholder:"Email Address",onChange:n,iconType:"mail",error:i.email}),r.a.createElement(P,{name:"group_code",value:a.group_code,placeholder:"Group Code",onChange:n,iconType:"lock",error:i.group_code}),r.a.createElement(z,{cssName:"sign-in-up-button",isInvalid:!s,loading:c,error:i.username||i.email||i.group_code},"in"===o?"Sign In":"Sign Up"),r.a.createElement("div",{className:"sign-in-up-link"},"in"===o?r.a.createElement(B,null):r.a.createElement(te,null)))},K=a(239),Q=a.n(K),Y=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={loading:!1},a.timeout=void 0,a.validationSchema=e.validationSchema,a.enterLoading=a.enterLoading.bind(Object(L.a)(a)),a.onSubmit=a.onSubmit.bind(Object(L.a)(a)),a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"enterLoading",value:function(){var e=this;this.setState({loading:!0}),this.timeout=setTimeout((function(){e.setState({loading:!1}),clearTimeout(e.timeout)}),16e3)}},{key:"onSubmit",value:function(e){var t=this,a=e.username,n=e.email,r=e.group_code;this.enterLoading(),this.props.submit(a,n,r).catch((function(e){clearTimeout(t.timeout),t.props.openErrorNotification(e.code,e.details),t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement(I.a,{className:"sign-in-up-col"},r.a.createElement(U.a,{className:"sign-in-up-row"},r.a.createElement("img",{src:Q.a,className:"sign-in-logo",alt:"Sign-In Logo"}),r.a.createElement(_.a,{render:function(a){return r.a.createElement(J,Object.assign({},e.props,a,{loading:t}))},onSubmit:function(t){return e.onSubmit(t)},validationSchema:this.validationSchema,initialValues:{}})))}}]),t}(n.Component),X=Object(h.f)(Y),$=function(e,t){F.a.success({message:e,description:t})},Z=function(e,t){F.a.error({message:e,description:t})},ee=function(){var e={email:void 0,group_code:void 0};return Object.keys(e).forEach((function(t){e[t]=G.string(t).required("The ".concat(t," field is required"))})),G.object(e)},te=function(){return r.a.createElement("p",null,"Already have an account? ",r.a.createElement(s.b,{to:"/"},"Sign In"))},ae=f((function(e){var t=e.firebase,a=e.history;return r.a.createElement(X,{type:"in",submit:function(e,n,r){return t.signIn(n,r).then((function(){t.isAdmin((function(e){e?a.push("/admin"):a.push("/survey")}))}))},validationSchema:ee(),openErrorNotification:Z})})),ne=function(e){return e.authUser?r.a.createElement(T,e):r.a.createElement(ae,e)},re=function(e){return e.authUser?r.a.createElement(T,e):r.a.createElement(H,e)},ie=function(){return r.a.createElement("div",{className:"legend-wrapper"},r.a.createElement("div",{className:"legend-key-wrapper"},r.a.createElement("div",{className:"legend-color-1"}),r.a.createElement("p",{className:"legend-text"},"Director")),r.a.createElement("div",{className:"legend-key-wrapper"},r.a.createElement("div",{className:"legend-color-2"}),r.a.createElement("p",{className:"legend-text"},"Promoter")),r.a.createElement("div",{className:"legend-key-wrapper"},r.a.createElement("div",{className:"legend-color-3"}),r.a.createElement("p",{className:"legend-text"},"Planner")),r.a.createElement("div",{className:"legend-key-wrapper"},r.a.createElement("div",{className:"legend-color-4"}),r.a.createElement("p",{className:"legend-text"},"Connector")))},oe=a(240),se=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={data:a.formatData(e.data),aspectRatio:2},a.options={responsiveAnimationDuration:0,legend:{display:!1},tooltips:{bodyFontSize:22,caretSize:8}},a.chartRef=void 0,a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"formatData",value:function(e){if(e)return{labels:["Director","Promoter","Planner","Connector"],datasets:[{data:[e.DI,e.PR,e.PL,e.CO],backgroundColor:["#ff6d1e","#FD6586","#42CBCB","#FFCE56"],hoverBackgroundColor:["#ff6d1e","#FD6586","#42CBCB","#FFCE56"],hoverBorderColor:["#d4d6d6","#d4d6d6","#d4d6d6","#d4d6d6"]}]}}},{key:"componentDidMount",value:function(){this.chartRef.chartInstance.aspectRatio=1}},{key:"componentDidUpdate",value:function(e){this.props.data!==e.data&&this.setState({data:this.formatData(this.props.data)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"aspect-ratio"},r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(oe.a,{data:this.state.data,options:this.options,ref:function(t){return e.chartRef=t}})))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={data:{},error:void 0},a.getUserData=a.getUserData.bind(Object(L.a)(a)),a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"getUserData",value:function(){var e=this,t=this.props,a=t.firebase,n=t.authUser;return a.getUserCommunicationStyle(n.uid).then((function(t){e.setState({data:t})})).catch((function(t){e.setState({error:"error getting data ".concat(t)})}))}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){return r.a.createElement(I.a,{className:"results-col"},r.a.createElement("span",{className:"ResultsName"},this.props.authUser.name),r.a.createElement(U.a,{className:"results-row"},r.a.createElement(se,{data:this.state.data}),r.a.createElement(ie,null)))}}]),t}(n.Component),le=f(ce),ue=function(){return r.a.createElement(I.a,{className:"no-results-col"},r.a.createElement(U.a,{className:"no-results-row"},r.a.createElement(u.a,{className:"no-results-icon",type:"trophy",theme:"twoTone",twoToneColor:"#236cbe",style:{fontSize:"54px"}}),r.a.createElement("p",{className:"no-results-text"},"Thanks for taking the survey."),r.a.createElement("p",{className:"no-results-text"},"No results yet. Stay tuned!")))},me=function(e){var t=e.authUser;return(t?t.VIEW_RES:null)?r.a.createElement(le,e):t?r.a.createElement(ue,e):r.a.createElement(ae,e)},de=a(73),he=function(){for(var e={},t=1;t<=de.set1.length;t++){var a=t<10?"0".concat(t):t;e["q".concat(a)]=G.string("q".concat(a)).required("Question ".concat(a," is required"))}for(var n=0;n<de.set2.length;n++){var r=de.set2[n][0];e[r]=G.string(r).required("Question ".concat(r," is required"))}return G.object(e)},pe=a(174),fe=(a(491),a(501)),ge=fe.a.Group,be=function(e){return e.questionOptions.map((function(e,t){return r.a.createElement(fe.a,{className:"radio",key:t,value:t},e)}))},ve=function(e){var t=e.index,a=e.values,n=e.questionNum,i=e.question,o=e.handleChange,s=e.questionOptions,c=e.questionFirst;return r.a.createElement(W.a.Item,{className:"survey-form-item-".concat(c?"2":"1"),key:t},r.a.createElement("p",{className:"survey-q-long"},i),r.a.createElement(ge,{className:"radio-group-".concat(c?"2":"1"),onChange:o,name:c?i:"q".concat(n),value:c?a[i]:a["q".concat(n)]},r.a.createElement(be,{index:t,questionOptions:s})))},Ee=function(e){var t=e.questionsSet,a=e.questionFirst;return t.map((function(t,n){var i=function(e){return e+1<10?"0".concat(e+1):e+1}(n),o=a?t[0]:"Q-"+i;return r.a.createElement(ve,Object.assign({key:n,questionOptions:a?t.slice(1):t,index:n,questionNum:i,question:o},e))}))},ye=de.set1,Se=de.set2,Ne=function(e){var t=e.handleSubmit,a=e.isValid,n=e.loading;return r.a.createElement(W.a,{className:"survey-form",onSubmit:t,layout:"vertical"},r.a.createElement(Ee,Object.assign({questionsSet:ye},e)),r.a.createElement(Ee,Object.assign({questionsSet:Se,questionFirst:!0},e)),r.a.createElement(d.a,{className:"survey-button",type:"primary",size:"large",icon:"file-done",loading:n,disabled:!a,htmlType:"submit"},"Submit"))},we=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={loading:!1},a.validationSchema=he(),a.submit=a.submit.bind(Object(L.a)(a)),a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"submit",value:function(e){var t=this;this.setState({loading:!0}),this.props.firebase.completeForm(e).then((function(){t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(I.a,{className:"survey-col"},r.a.createElement(U.a,{className:"survey-row"},r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"survey-title"},pe.b),r.a.createElement("p",{className:"survey-subtitle"},pe.a),r.a.createElement(_.a,{render:function(t){return r.a.createElement(Ne,Object.assign({},t,{loading:e.state.loading}))},onSubmit:this.submit,validationSchema:this.validationSchema,initialValues:{}}))))}}]),t}(n.Component),ke=f(we),Ce=function(e){return r.a.createElement(d.a,{className:"view-results-button",type:"primary",size:"large",onClick:function(){return e.history.push("/results")}},"View Results!")},Oe=function(e){var t=e.VIEW_RES;return r.a.createElement(I.a,{className:"done-survey-col"},r.a.createElement(U.a,{className:"done-survey-row"},r.a.createElement(u.a,{className:"done-survey-icon",type:"trophy",theme:"twoTone",twoToneColor:"#236cbe"}),r.a.createElement("p",{className:"done-survey-text"},"Thanks for taking the survey."),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"done-survey-text"},"Your results are posted!"),r.a.createElement(Ce,e)):r.a.createElement("p",{className:"done-survey-text"}," No results yet. Stay tuned!")))},je=function(e){var t=e.authUser,a=t?t.TOOK_SUR:null,n=t?t.VIEW_RES:null;return a?r.a.createElement(Oe,Object.assign({VIEW_RES:n},e)):t?r.a.createElement(ke,e):r.a.createElement(ae,e)},Ie=a(247),Ue=a(500),De=a(175),Te=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={deleteLoading:!1,viewResultsLoading:!1},a.deleteTimeout=void 0,a.viewResultsTimeout=void 0,a.enterLoading=a.enterLoading.bind(Object(L.a)(a)),a.onDeleteClick=a.onDeleteClick.bind(Object(L.a)(a)),a.onAllowViewClick=a.onAllowViewClick.bind(Object(L.a)(a)),a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"enterLoading",value:function(e,t){var a=this;this.setState(Object(De.a)({},e,!0)),t=setTimeout((function(){a.setState(Object(De.a)({},e,!1)),clearTimeout(t)}),16e3)}},{key:"onDeleteClick",value:function(e,t,a){var n=this;this.enterLoading("deleteLoading",this.deleteTimeout),this.props.firebase.adminDeleteItem(t,a).then((function(t){n.props.UIDelete(e,a),$(t.status,t.message)})).catch((function(e){console.log(e),Z(e.code,e.details)})).then((function(){clearTimeout(n.deleteTimeout),n.setState({deleteLoading:!1})}))}},{key:"onAllowViewClick",value:function(e,t){var a=this;this.enterLoading("viewResultsLoading",this.viewResultsTimeout),this.props.updateViewRes(),this.props.firebase.adminAllowViewCom(e,t).then((function(e){$(e.status,e.message)})).catch((function(e){console.log(e),Z(e.code,e.details)})).then((function(){clearTimeout(a.viewResultsTimeout),a.setState({viewResultsLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.deleteLoading,n=t.viewResultsLoading,i=this.props,o=i.member,s=i.groupName,c=i.memberUID,l=i.member_VIEW_RES;return r.a.createElement("div",{className:"admin-modal-footer"},r.a.createElement(m.a,{title:"Click to delete this ".concat(o?"member":"group")},r.a.createElement(d.a,{className:"admin-control-button",onClick:function(){e.onDeleteClick(o,c,s)},type:"secondary",shape:"circle",icon:"delete",loading:a})),r.a.createElement(m.a,{title:l?"This member already has access to view their results":"Click to allow this ".concat(o?"member":"group"," to see their results")},r.a.createElement(d.a,{className:"admin-control-button",onClick:function(){e.onAllowViewClick(c,s)},type:"secondary",shape:"circle",icon:"eye",disabled:l,loading:n})))}}]),t}(n.Component),Re=f(Te),Ve=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.member,a=e.groupName,n=e.memberUID,i=e.member_VIEW_RES,o=e.modalVisible,s=e.data,c=this.props,l=c.hideModal,u=c.UIDelete,m=c.onDeleteClick,d=c.onAllowViewClick,h=c.updateViewRes;return n?r.a.createElement(Ue.a,{className:"admin-results-modal",title:r.a.createElement("p",{className:"admin-modal-title"},t?"Member: ".concat(t):"Group: ".concat(a)),visible:o,onCancel:l,footer:r.a.createElement(Re,{member:t,groupName:a,memberUID:n,member_VIEW_RES:i,UIDelete:u,onDeleteClick:m,onAllowViewClick:d,updateViewRes:h})},r.a.createElement("div",{className:"admin-results-modal-content"},r.a.createElement(se,{data:s}),r.a.createElement(ie,null))):null}}]),t}(n.Component),Ae=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={loading:!1},a.timeout=void 0,a.submitGroupAdd=a.submitGroupAdd.bind(Object(L.a)(a)),a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"enterLoading",value:function(){var e=this;this.setState({loading:!0}),this.timeout=setTimeout((function(){e.setState({loading:!1}),clearTimeout(e.timeout)}),16e3)}},{key:"submitGroupAdd",value:function(e){var t=this,a=e.groupInput;this.enterLoading(),this.props.firebase.adminGroupAdd(a).then((function(e){$(e.status,e.message)})).catch((function(e){Z(e.code,e.details)})).then((function(){clearTimeout(t.timeout),t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement(_.a,{render:function(e){return r.a.createElement(W.a,{className:"add-group-form",onSubmit:e.handleSubmit,layout:"horizontal"},r.a.createElement(q.a,{name:"groupInput",value:e.values.groupInput,onChange:e.handleChange,placeholder:"New Group",size:"large"}),r.a.createElement(d.a,{size:"large",className:"add-group-button",type:"primary",htmlType:"submit",loading:t},"New Group"))},onSubmit:function(t){return e.submitGroupAdd(t)},initialValues:{}})}}]),t}(n.Component),Le=f(Ae),xe=a(497),_e=xe.a.TreeNode,We=function(e){function t(){return Object(b.a)(this,t),Object(V.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(R.a)(t,[{key:"treeNodeTitle",value:function(e,t,a){var n=e?"".concat(e," - ").concat(t," "):"".concat(a," ");return r.a.createElement("div",null,r.a.createElement("span",null,n))}},{key:"render",value:function(){var e=this,t=this.props,a=t.groups,n=t.loading,i=t.value,o=t.modalVisible,s=this.props.onSelect;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("div",null,"Loading..."),r.a.createElement(xe.a,{size:"large",className:"admin-dropdown",value:o?i:void 0,placeholder:"Choose Group",onChange:this.onChange,onSelect:s},Object.keys(a).map((function(t,n){var i=a[t];return i?r.a.createElement(_e,{value:"".concat(t,"-").concat(n),title:e.treeNodeTitle(void 0,void 0,t),key:"".concat(t,"-").concat(n),uid:t,member:void 0,groupName:t},Object.keys(i).map((function(a,n){var o=i[a],s=o.email,c=o.displayName;return a?r.a.createElement(_e,{value:"".concat(c,"-").concat(n),title:e.treeNodeTitle(c,s,t),key:"".concat(c,"-").concat(n),uid:a,member:c,groupName:t}):null}))):null}))))}}]),t}(n.Component),qe=f(We),Pe=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(V.a)(this,Object(A.a)(t).call(this,e))).state={memberUID:void 0,data:{},modalVisible:!1,groups:{},dropDownvalue:void 0,loading:!0,member_VIEW_RES:!1},a.onSelect=a.onSelect.bind(Object(L.a)(a)),a.UIDelete=a.UIDelete.bind(Object(L.a)(a)),a.hideModal=a.hideModal.bind(Object(L.a)(a)),a.updateViewRes=a.updateViewRes.bind(Object(L.a)(a)),a.listener=function(){},a}return Object(x.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onGroupListener((function(t){e.setState({groups:t,loading:!1})}),this.props.authUser)}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"onSelect",value:function(e,t){var a=t.props.uid,n=t.props,r=n.member,i=n.groupName;this.setState({modalVisible:!0,memberUID:a,member:r,groupName:i}),this.getResults(a)}},{key:"updateViewRes",value:function(){this.setState({member_VIEW_RES:!0})}},{key:"hideModal",value:function(){this.setState({modalVisible:!1})}},{key:"getResults",value:function(e){var t=this;if(e)return this.props.firebase.getUserCommunicationStyle(e).then((function(a){t.setState({data:a,memberUID:e,member_VIEW_RES:!!a.VIEW_RES})})).catch((function(e){console.error("error getting data",e)}));this.setState({data:{DI:0,PR:0,PL:0,CO:0},memberUID:e})}},{key:"UIDelete",value:function(e,t){var a=this.state.groups;e?delete a[t][e]:delete a[t],this.hideModal(),this.setState({groups:a,dropDownvalue:void 0})}},{key:"render",value:function(){var e=this.state,t=(e.data,e.memberUID,e.member_VIEW_RES,Object(Ie.a)(e,["data","memberUID","member_VIEW_RES"]));return r.a.createElement(I.a,{className:"admin-col"},r.a.createElement(U.a,{className:"admin-row"},r.a.createElement("div",{className:"admin-title"},"Admin Dashboard"),r.a.createElement(qe,Object.assign({onSelect:this.onSelect},t,this.props)),r.a.createElement(Ve,Object.assign({hideModal:this.hideModal,UIDelete:this.UIDelete,onDeleteClick:this.onDeleteClick,onAllowViewClick:this.onAllowViewClick,updateViewRes:this.updateViewRes},this.state)),r.a.createElement(Le,null)))}}]),t}(n.Component),ze=f(Pe),Fe=function(e){return r.a.createElement(I.a,{className:"unauthorized-col"},r.a.createElement(U.a,{className:"unauthorized-row"},r.a.createElement(u.a,{className:"unauthorized-icon",type:"alert",theme:"twoTone",twoToneColor:"#c61133"}),r.a.createElement("p",{className:"unauthorized-text"},"This is for admins only. Please step back."),r.a.createElement(D,e)))},Ge=function(e){return(e.authUser?e.authUser.admin:null)?r.a.createElement(ze,e):r.a.createElement(Fe,e)},Me=function(e){return r.a.createElement(I.a,{className:"not-found-col"},r.a.createElement(U.a,{className:"not-found-row"},r.a.createElement(u.a,{className:"not-found-icon",type:"alert",theme:"twoTone",twoToneColor:"#c61133"}),r.a.createElement("p",{className:"not-found-text"},"404 page not found"),r.a.createElement(D,e)))},Be=function(e){return r.a.createElement(Me,e)},He=Object(h.f)((function(e){return r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/signup",render:function(){return r.a.createElement(re,e)}}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ne,e)}}),r.a.createElement(h.a,{path:"/survey",render:function(){return r.a.createElement(je,e)}}),r.a.createElement(h.a,{path:"/results",render:function(){return r.a.createElement(me,e)}}),r.a.createElement(h.a,{path:"/admin",render:function(){return r.a.createElement(Ge,e)}}),r.a.createElement(h.a,{render:function(){return r.a.createElement(Be,e)}}))})),Je=r.a.createContext(null),Ke=function(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(V.a)(this,Object(A.a)(a).call(this,e))).state={authUser:JSON.parse(sessionStorage.getItem("authUser"))},t}return Object(x.a)(a,t),Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){sessionStorage.setItem("authUser",JSON.stringify(t)),e.setState({authUser:t})}),(function(){sessionStorage.removeItem("authUser"),e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(Je.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return f(t)},Qe=c.a.Content,Ye=Ke((function(e){return r.a.createElement(Je.Consumer,null,(function(e){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"background-style"},r.a.createElement(j,{authUser:e}),r.a.createElement(Qe,{className:"content"},r.a.createElement(He,{authUser:e}))),r.a.createElement("div",{className:"footer"}," \xa92019 Northern Torch"))}))}));o.a.render(r.a.createElement(g.Provider,{value:new S},r.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},73:function(e){e.exports=JSON.parse('{"set1":[["Cautious","Takes Risk","Motivating","Willing to Help"],["Self-disciplined","Asks questions","Action oriented","Animated"],["Inspiring","Quiet","Pleasant","Challenging"],["Will try new things","Wants to please","Optimistic","Likes details"],["Takes charge","Caring","Respectful","Liked by others"],["Conscientious","Generous","Demanding","Supportive"],["Concerned for others","Not extreme","Likes a challenge","High energy"],["Friendly","Positive","Orderly","Results Oriented"],["Determined","Persuasive","Good natured","Deliberate"],["Diplomatic","Cooperative","Expressive","Daring"],["Charming","Bold","Loyal","Analytical"],["Restless","Social and humorous","Goes by the rules","Team oriented"],["Original","Convincing","Humble","Gentle"],["Dependable","Problem Solver","Talkative","Systematic"],["Playful","Structured","Initiator","Willing"],["Self-reliant","Controlled","Contented","Trusting"],["Precise","Sticks to decisions","Spontaneous","Easy going"],["Agreeable","Decisive","Impulsive","Fact Finder"],["Outgoing","Strong Opinions","Likes Harmony","Accurate"],["Independent","Enthusiastic","Patient","Soft-spoken"],["Engaging","Organized","Kind","Powerful"]],"set2":[["When you\u2019re working in a team, what\u2019s most important to you?","Every member has input","Work gets done","Enough information is gathered to do it right","Freedom and flexibility to be creative"],["When making a decision, what\u2019s most important to you?","Facts and data","Options and results","Fast and flexible","Input and consensus"],["What type of communication do you most value?","Direct and honest","Stimulating and expressive","Detailed and logical","Authentic and considerate"],["What describes your ideal environment (home or work)?","Warm and comfortable","Structured and uncluttered","Systematic and orderly","Dynamic and creative"],["An enjoyable social gathering for me would include:","Networking opportunities","Activities with a lot of people","Close connections with friends","Stimulating conversations with a small group of peers"],["Which of the following causes you the most stress?","Having your time wasted","Too many rules","Engaging in conflict","Forced to make a quick decision"],["Which of the following describes your relationship to time?","I am always early","I am punctual, expecting meetings to start and end on time","Sometimes I\u2019m late but I try to be on time","Time is relative"]]}')}},[[250,1,2]]]);
//# sourceMappingURL=main.2ae259d4.chunk.js.map